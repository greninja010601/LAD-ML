<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400&display=swap" rel="stylesheet">
    <script src="{% static 'script.js' %}" defer></script>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="{% static 'style_screen1.css' %}">
    <link rel="stylesheet" href="{% static 'style_screen2.css' %}">
    <link rel="stylesheet" href="{% static 'style_screen4.css' %}">
    <title>Advisor Canvas</title>
</head>
<body>
    <div class="container-wrapper">
        <!-- Sidebar -->
        <div class="icon-tab">
            {% include 'index.html' %}
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="options-header">
                <div class="heading" id="heading">Selected Term</div>
                <div class="buttons-container">
                    <button id="bell" class="Help-button">
                        <img src="{% static 'images/Bell.png' %}" alt="Notification" class="help-icon">
                    </button>
                    <button id="Menu" class="Help-button">
                        <img src="{% static 'images/Menu.png' %}" alt="Menu" class="help-icon">
                    </button>
                </div>
            </div>

            <!-- Course Filter Form -->
            <form action="{% url 'screen_5' term=term %}" method="GET" class="filter-form">
                <div class="input-container">
                    <label class="label">Subject</label>
                    <input type="text" name="subject" class="input-box">
                </div>

                <div class="input-container">
                    <label class="label">Course Number</label>
                    <input type="text" name="course_number" class="input-box">
                </div>

                <button type="submit" class="dropdownbutton">Continue</button>
            </form>
        </div>
    </div>

    <script>
        // Get the selected term from URL and display in heading
        function getQueryParam(name) {
            name = name.replace(/[\[\]]/g, '\\$&');
            const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
            const results = regex.exec(window.location.href);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        const term = getQueryParam('term');
        document.getElementById('heading').innerText = term || "Selected Term";
    </script>
</body>
</html>
